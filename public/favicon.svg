<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512">
  <rect width="512" height="512" fill="#0f172a"/>
  <svg x="64" y="96" width="384" height="320" viewBox="0 0 260 200" xmlns="http://www.w3.org/2000/svg">
    <defs>
    <linearGradient id="wireGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#88ccff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00ff88;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="componentGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ff8844;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ff8844;stop-opacity:1" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Photon glow + soft comet tail -->
    <filter id="photonGlow" x="-80%" y="-80%" width="260%" height="260%">
      <feGaussianBlur stdDeviation="3.0" result="blur"/>
      <feColorMatrix
        in="blur"
        type="matrix"
        values="
          1 0 0 0 0
          0 1 0 0 0
          0 0 1 0 0
          0 0 0 16 -3.5"
        result="glow"
      />
      <feMerge>
        <feMergeNode in="glow"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <radialGradient id="photonFill" cx="35%" cy="35%" r="80%">
      <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
      <stop offset="46%" style="stop-color:#e8fffb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00ff88;stop-opacity:1" />
    </radialGradient>

    <!-- Circuit flow path including resistor zigzags -->
    <path
      id="photonPath"
      d="M 55 150
         L 55 50
         L 90 50
         L 100 50
         L 108 50
         L 113 40
         L 123 60
         L 133 40
         L 143 60
         L 148 50
         L 160 50
         L 205 50
         L 205 75
         L 205 83
         L 215 88
         L 195 98
         L 215 108
         L 195 118
         L 205 123
         L 205 135
         L 205 150
         L 160 150
         L 155 150
         L 103 150
         L 108 140
         L 118 160
         L 128 140
         L 138 160
         L 143 150
         L 95 150
         L 55 150"
    />
  </defs>

  <g stroke="url(#wireGradient)" stroke-width="3.5" fill="none" stroke-linecap="round" stroke-linejoin="round">

    <line x1="55" y1="115" x2="55" y2="95" stroke="url(#wireGradient)" stroke-width="3.5" />

    <!-- Battery symbol and polarity markers are brand-critical; do not remove without explicit instruction. -->
    <g transform="translate(55, 80)" data-battery="true" data-polarity="true">
      <line x1="-18" y1="-12" x2="18" y2="-12" stroke="url(#componentGradient)" stroke-width="4" />
      <line x1="-12" y1="12" x2="12" y2="12" stroke="url(#componentGradient)" stroke-width="2.8" />
      <g stroke="#00ff88" stroke-width="2.4" stroke-linecap="round">
        <line x1="-36" y1="-12" x2="-20" y2="-12" />
        <line x1="-28" y1="-20" x2="-28" y2="-4" />
      </g>
      <g stroke="#88ccff" stroke-width="2.4" stroke-linecap="round">
        <line x1="-36" y1="12" x2="-20" y2="12" />
      </g>
    </g>

    <line x1="55" y1="65" x2="55" y2="50" stroke="url(#wireGradient)" stroke-width="3.5" />

    <line x1="55" y1="50" x2="90" y2="50" stroke="url(#wireGradient)" stroke-width="3.5" />

    <g transform="translate(130, 50)" stroke="url(#componentGradient)" stroke-width="3.5" filter="url(#glow)">
      <polyline points="-30,0 -22,0 -17,-10 -7,10 3,-10 13,10 18,0 30,0" />
    </g>

    <line x1="160" y1="50" x2="205" y2="50" stroke="url(#wireGradient)" stroke-width="3.5" />

    <line x1="205" y1="50" x2="205" y2="70" stroke="url(#wireGradient)" stroke-width="3.5" />

    <g transform="translate(205, 105) rotate(90)" stroke="url(#componentGradient)" stroke-width="3.5" filter="url(#glow)">
      <polyline points="-30,0 -22,0 -17,-10 -7,10 3,-10 13,10 18,0 30,0" />
    </g>

    <line x1="205" y1="135" x2="205" y2="150" stroke="url(#wireGradient)" stroke-width="3.5" />

    <line x1="205" y1="150" x2="160" y2="150" stroke="url(#wireGradient)" stroke-width="3.5" />

    <g transform="translate(125, 150)" stroke="url(#componentGradient)" stroke-width="3.5" filter="url(#glow)">
      <polyline points="-30,0 -22,0 -17,-10 -7,10 3,-10 13,10 18,0 30,0" />
    </g>

    <line x1="95" y1="150" x2="55" y2="150" stroke="url(#wireGradient)" stroke-width="3.5" />

    <line x1="55" y1="150" x2="55" y2="115" stroke="url(#wireGradient)" stroke-width="3.5" />

    <g stroke="#00ff88" stroke-width="1.2" opacity="0.9">
      <line x1="55" y1="115" x2="55" y2="95" />
      <line x1="55" y1="65" x2="55" y2="50" />
      <line x1="55" y1="50" x2="100" y2="50" />
      <line x1="160" y1="50" x2="205" y2="50" />
      <line x1="205" y1="50" x2="205" y2="75" />
      <line x1="205" y1="135" x2="205" y2="150" />
      <line x1="205" y1="150" x2="155" y2="150" />
      <line x1="95" y1="150" x2="55" y2="150" />
      <line x1="55" y1="150" x2="55" y2="115" />
    </g>

    <circle cx="55" cy="50" r="3.5" fill="#00ff88" stroke="#0f172a" stroke-width="1.5" />
    <circle cx="205" cy="50" r="3.5" fill="#00ff88" stroke="#0f172a" stroke-width="1.5" />
    <circle cx="205" cy="150" r="3.5" fill="#00ff88" stroke="#0f172a" stroke-width="1.5" />
    <circle cx="55" cy="150" r="3.5" fill="#00ff88" stroke="#0f172a" stroke-width="1.5" />

    <text x="35" y="35" font-size="8" fill="#94a3b8" font-weight="bold">1</text>
    <text x="220" y="35" font-size="8" fill="#94a3b8" font-weight="bold">2</text>
    <text x="220" y="165" font-size="8" fill="#94a3b8" font-weight="bold">3</text>
    <text x="35" y="165" font-size="8" fill="#94a3b8" font-weight="bold">4</text>
  </g>

  <g font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#88ccff" text-anchor="middle" font-weight="600">
    <text x="37" y="98">9V</text>
    <text x="130" y="35">R₁ = 3 kΩ</text>
    <text x="225" y="105">R₂ = 10 kΩ</text>
    <text x="125" y="172">R₃ = 5 kΩ</text>
  </g>

  <!-- Animated photons (two bright particles with comet tails) -->
  <g aria-hidden="true" filter="url(#photonGlow)">
    <!-- Photon A -->
    <g>
      <circle r="5.05" fill="url(#photonFill)" opacity="1">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="4.05" fill="url(#photonFill)" opacity="0.55">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.14s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="3.25" fill="url(#photonFill)" opacity="0.32">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.28s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="2.6" fill="url(#photonFill)" opacity="0.2">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.42s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="2.1" fill="url(#photonFill)" opacity="0.12">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.56s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="1.7" fill="url(#photonFill)" opacity="0.08">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.70s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="1.3" fill="url(#photonFill)" opacity="0.06">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.84s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
    </g>

    <!-- Photon B (phase offset) -->
    <g>
      <circle r="5.05" fill="url(#photonFill)" opacity="1">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-1.7s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="4.05" fill="url(#photonFill)" opacity="0.55">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-1.84s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="3.25" fill="url(#photonFill)" opacity="0.32">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-1.98s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="2.6" fill="url(#photonFill)" opacity="0.2">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-2.12s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="2.1" fill="url(#photonFill)" opacity="0.12">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-2.26s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="1.7" fill="url(#photonFill)" opacity="0.08">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-2.40s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="1.3" fill="url(#photonFill)" opacity="0.06">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-2.54s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
    </g>
  </g>
  </svg>
</svg>
