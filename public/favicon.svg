<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512">
  <rect width="512" height="512" fill="#0f172a"/>
  <svg x="16" y="126" width="481" height="261" viewBox="0 0 240 130" xmlns="http://www.w3.org/2000/svg">
    <defs>
    <linearGradient id="wireGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#88ccff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00ff88;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="componentGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ff8844;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ff8844;stop-opacity:1" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Photon glow + soft comet tail -->
    <filter id="photonGlow" x="-80%" y="-80%" width="260%" height="260%">
      <feGaussianBlur stdDeviation="3.0" result="blur"/>
      <feColorMatrix
        in="blur"
        type="matrix"
        values="
          1 0 0 0 0
          0 1 0 0 0
          0 0 1 0 0
          0 0 0 16 -3.5"
        result="glow"
      />
      <feMerge>
        <feMergeNode in="glow"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <radialGradient id="photonFill" cx="35%" cy="35%" r="80%">
      <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
      <stop offset="46%" style="stop-color:#e8fffb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00ff88;stop-opacity:1" />
    </radialGradient>

    <!-- Circuit flow path - flows along main wire, battery is a side branch -->
    <path
      id="photonPath"
      d="M 55 110
         L 55 20
         L 100 20
         L 110 20
         L 118 20
         L 123 10
         L 133 30
         L 143 10
         L 153 30
         L 158 20
         L 170 20
         L 210 20
         L 210 45
         L 210 53
         L 220 58
         L 200 68
         L 220 78
         L 200 88
         L 210 93
         L 210 95
         L 210 110
         L 180 110
         L 175 110
         L 118 110
         L 123 100
         L 133 120
         L 143 100
         L 153 120
         L 158 110
         L 100 110
         L 55 110"
    />
  </defs>

  <g stroke="#00ff88" stroke-width="1.75" fill="none" stroke-linecap="round" stroke-linejoin="round">

    <!-- Left vertical branch with battery inserted in series -->
    <line x1="55" y1="20" x2="55" y2="56" stroke="#00ff88" stroke-width="1.75" />
    <line x1="55" y1="74" x2="55" y2="110" stroke="#00ff88" stroke-width="1.75" />

    <!-- Top horizontal wire from node 1 to R1 -->
    <line x1="55" y1="20" x2="110" y2="20" stroke="#00ff88" stroke-width="1.75" />

    <!-- R1 - Top horizontal resistor -->
    <g transform="translate(140, 20)" stroke="url(#componentGradient)" stroke-width="2.5" filter="url(#glow)">
      <polyline points="-30,0 -22,0 -17,-10 -7,10 3,-10 13,10 18,0 30,0" />
    </g>

    <!-- Wire from R1 to node 2 -->
    <line x1="170" y1="20" x2="210" y2="20" stroke="#00ff88" stroke-width="1.75" />

    <!-- Right vertical wire from node 2 to R2 -->
    <line x1="210" y1="20" x2="210" y2="45" stroke="#00ff88" stroke-width="1.75" />

    <!-- R2 - Right vertical resistor -->
    <g transform="translate(210, 75) rotate(90)" stroke="url(#componentGradient)" stroke-width="2.5" filter="url(#glow)">
      <polyline points="-30,0 -22,0 -17,-10 -7,10 3,-10 13,10 18,0 30,0" />
    </g>

    <!-- Wire from R2 to node 3 -->
    <line x1="210" y1="105" x2="210" y2="110" stroke="#00ff88" stroke-width="1.75" />

    <!-- Bottom horizontal wire from node 3 to R3 -->
    <line x1="210" y1="110" x2="170" y2="110" stroke="#00ff88" stroke-width="1.75" />

    <!-- R3 - Bottom horizontal resistor -->
    <g transform="translate(140, 110)" stroke="url(#componentGradient)" stroke-width="2.5" filter="url(#glow)">
      <polyline points="-30,0 -22,0 -17,-10 -7,10 3,-10 13,10 18,0 30,0" />
    </g>

    <!-- Wire from R3 to node 4 -->
    <line x1="110" y1="110" x2="55" y2="110" stroke="#00ff88" stroke-width="1.75" />

    <!-- Junction nodes at corners -->
    <circle cx="55" cy="20" r="3" fill="#00ff88" stroke="#0f172a" stroke-width="1.2" />
    <circle cx="210" cy="20" r="3" fill="#00ff88" stroke="#0f172a" stroke-width="1.2" />
    <circle cx="210" cy="110" r="3" fill="#00ff88" stroke="#0f172a" stroke-width="1.2" />
    <circle cx="55" cy="110" r="3" fill="#00ff88" stroke="#0f172a" stroke-width="1.2" />

    <!-- Junction nodes at component connections -->
    <circle cx="110" cy="20" r="2.5" fill="#00ff88" stroke="#0f172a" stroke-width="1" />
    <circle cx="170" cy="20" r="2.5" fill="#00ff88" stroke="#0f172a" stroke-width="1" />
    <circle cx="210" cy="45" r="2.5" fill="#00ff88" stroke="#0f172a" stroke-width="1" />
    <circle cx="210" cy="105" r="2.5" fill="#00ff88" stroke="#0f172a" stroke-width="1" />
    <circle cx="170" cy="110" r="2.5" fill="#00ff88" stroke="#0f172a" stroke-width="1" />
    <circle cx="110" cy="110" r="2.5" fill="#00ff88" stroke="#0f172a" stroke-width="1" />

    <!-- Node number labels -->
    <text x="42" y="14" font-size="8" fill="#94a3b8" font-weight="bold">1</text>
    <text x="218" y="14" font-size="8" fill="#94a3b8" font-weight="bold">2</text>
    <text x="218" y="122" font-size="8" fill="#94a3b8" font-weight="bold">3</text>
    <text x="42" y="122" font-size="8" fill="#94a3b8" font-weight="bold">4</text>
  </g>

  <!-- Battery schematic symbol centered on the left branch -->
  <g>
    <!-- Positive plate (longer + thicker, top) -->
    <line x1="44" y1="56" x2="66" y2="56" stroke="#ff2b2b" stroke-width="4" stroke-linecap="square" />
    <!-- Negative plate (shorter + thinner, bottom) -->
    <line x1="50" y1="74" x2="60" y2="74" stroke="#ff2b2b" stroke-width="2.2" stroke-linecap="square" />
  </g>
  <!-- Polarity marker + beside positive plate -->
  <text x="40" y="54" font-size="10" fill="#ff6b6b" font-weight="bold" text-anchor="middle">+</text>
  <!-- 9V label to the left of the battery -->
  <text x="34" y="67" font-size="10" fill="#88ccff" font-weight="bold" text-anchor="middle">9V</text>
  <!-- Polarity marker - beside negative plate -->
  <text x="40" y="80" font-size="10" fill="#ff6b6b" font-weight="bold" text-anchor="middle">-</text>

  <!-- Component labels -->
  <g font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#88ccff" text-anchor="middle" font-weight="600" stroke="#050b1f" stroke-width="2" paint-order="stroke fill">
    <text x="146" y="9">R₁ = 3 kΩ</text>
    <text x="229" y="77" text-anchor="end">R₂ =</text>
    <text x="140" y="129">R₃ = 5 kΩ</text>
  </g>

  <!-- Unknown-value prompt for R2 -->
  <text x="235" y="77" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#ff2b2b" font-weight="800" text-anchor="middle" stroke="#050b1f" stroke-width="1.5" paint-order="stroke fill">?</text>

  <!-- Animated photons (two bright particles with comet tails) -->
  <g aria-hidden="true" filter="url(#photonGlow)">
    <!-- Photon A -->
    <g>
      <circle r="4.5" fill="url(#photonFill)" opacity="1">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="3.6" fill="url(#photonFill)" opacity="0.55">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.14s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="2.9" fill="url(#photonFill)" opacity="0.32">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.28s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="2.3" fill="url(#photonFill)" opacity="0.2">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.42s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="1.9" fill="url(#photonFill)" opacity="0.12">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.56s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="1.5" fill="url(#photonFill)" opacity="0.08">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.70s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="1.2" fill="url(#photonFill)" opacity="0.06">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-0.84s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
    </g>

    <!-- Photon B (phase offset) -->
    <g>
      <circle r="4.5" fill="url(#photonFill)" opacity="1">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-1.7s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="3.6" fill="url(#photonFill)" opacity="0.55">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-1.84s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="2.9" fill="url(#photonFill)" opacity="0.32">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-1.98s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="2.3" fill="url(#photonFill)" opacity="0.2">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-2.12s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="1.9" fill="url(#photonFill)" opacity="0.12">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-2.26s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="1.5" fill="url(#photonFill)" opacity="0.08">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-2.40s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
      <circle r="1.2" fill="url(#photonFill)" opacity="0.06">
        <animateMotion dur="3.4s" repeatCount="indefinite" rotate="auto" begin="-2.54s">
          <mpath href="#photonPath" xlink:href="#photonPath" />
        </animateMotion>
      </circle>
    </g>
  </g>
  </svg>
</svg>
